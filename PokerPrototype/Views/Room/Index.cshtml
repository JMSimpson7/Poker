
@{
    ViewBag.Title = "Index";
}
@section topright{
    <li class="dropdown">
    </li>
}

@section styles{
    <style media="screen" type="text/css">
   
        * { margin:0; padding:0; } /* to remove the top and left whitespace */

        html, body { 
	        width:100%;
	        height:100%;
        } /* just to be sure these are full screen*/

        body{
            margin: 0;
            padding: 0;
            position: absolute;
            background-image:  url(http://www.walldevil.com/wallpapers/a52/wallpaper-textur-background-patterns-backgrounds-wallpapers.jpg);
	        -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover
        }

        #bottomFunctions {
	        position: fixed; 
            bottom:0%;
            left:0%;
            background-color: black;
            border: 1px solid white;
            width: 100%;
            height: 15%;
        }

        #chatroom{
	        position: absolute;
	        float: left;
	        top: 3%;
	        left: 85%;
	        width: 10%;
        }

        #metaActions{
	        float: left;
	        position: absolute;
	        left: 1.5%;
	        top: 10%;
	        height: 60%;
	        width: 10%;
        }

        #rangeSlider{
	        position: absolute;
	        top: 70%;
	        height: 30%;
	        width: 100%;
        }

        #raiseSlider{
	        width: 75%;
	        height: 100%;
	        position: relative;
	        float: left;
            left: 5%
        }

        #raiseInput{
	        position: relative;
	        width: 10%;
	        height: 50%;
	        float: left;
	        top: 25%;
	        left: 10%;
        }

        #actionButtons{
	        position: relative;
	        top: 5%;
	        left: .25%;
	        height: 60%;
	        width: 100%;
        }

        #gameActions{
	        float: left;
	        top: 5%;
	        left: 35%;
	        height: 90%;
	        width: 30%;
	        position: absolute;
	        border: 2px solid white;
        }

        .actionButton {
	        position: relative;
	        width: 24%;
	        height: 100%;
	        margin: .5%;
	        font-size: 100%;
            font-family: Arial,Arial, Helvetica, sans-serif;
	        float: left;
        }

        .metaButton {
	        position: relative;
	        width: 90%;
	        height: 31%;
	        font-size: 100%;
            font-family: Arial,Arial, Helvetica, sans-serif;
	        margin-left: 5%;
	        margin-right: 5%;
	        margin-bottom: 1%;
	        margin-top: 1%;
        }

        button{
	        background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #1433cc), color-stop(1, #0b1f00));
	        background:-moz-linear-gradient(top, #1433cc 5%, #0b1f00 100%);
	        background:-webkit-linear-gradient(top, #1433cc 5%, #0b1f00 100%);
	        background:-o-linear-gradient(top, #1433cc 5%, #0b1f00 100%);
	        background:-ms-linear-gradient(top, #1433cc 5%, #0b1f00 100%);
	        background:linear-gradient(to bottom, #1433cc 5%, #0b1f00 100%);
	        filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#1433cc', endColorstr='#0b1f00',GradientType=0);
	        background-color:#1433cc;
	        border: 1px solid yellow;
	        display:inline-block;
	        cursor:pointer;
	        color:#ffffff;
	        font-family:Arial;
	        text-decoration:none;
	        -moz-border-radius:11px;
	        -webkit-border-radius:11px;
	        border-radius:11px;
	        outline: none;
        }

        button:hover {
	        border:2px solid green;
        }
        button:active {
	        position:relative;
	        top:1px;
        }

        /* HUD Styling*/


        #hud {
            position: fixed;
            height: 60px;
            width: 250px;
            bottom: 30%;
            left: 50%;
            transform: translate(-50%, 0%);
        }

        .playerCards {
            display: flex;
            justify-content: center;
        }

        .card {
            height: 85px;
            width: 30%;
            border-radius: 2px;
        }

            .card img {
                height: 100%;
                width: 100%;
            }

        .playerBar {
            display: flex;
            justify-content: center;
        }

            .playerBar > div {
                background-color: #585749;
            }

        .avatar {
            height: 60px;
            width: 20%;
            border-radius: 2px;
            border: 1px inset;
        }

            .avatar img {
                height: 100%;
                width: 100%;
            }

        .nameAndCurrency {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            height: 60px;
            width: 60%;
            border: 1px inset;
            border-radius: 2px;
        }

        .name {
            display: block;
            width: 60%;
            margin-top: 5px;
            margin-bottom: 5px;
            text-align: center;
            background-color: #E59866;
        }

        .currency {
            display: block;
            width: 60%;
            margin-bottom: 5px;
            text-align: center;
            background-color: #97ddff;
        }

        .timer {
            height: 60px;
            width: 20%;
            border: 1px inset;
            border-radius: 2px;
        }
    </style>
}

<div id="hud" class="playerHud">

    <div class="playerCards">
        <div id="card1" class="card"><img v-bind:src="card1Url" /></div>
        <div id="card2" class="card"><img v-bind:src="card2Url" /></div>
    </div>

    <div class="playerBar">
        <div class="avatar"><img v-bind:src="avatarUrl" /></div>
        <div class="nameAndCurrency">
            <div class="name">{{username}}</div>

            <div class="currency">currency:${{currency}}</div>
        </div>
        <div class="timer">{{timer}}</div>
    </div>
</div>


    
    <div id="bottomFunctions">
        <div id="metaActions">
            <button class="metaButton">Buy More</button>
            <br>
            <button class="metaButton">Hand History</button>
            <br>
            <button class="metaButton">Leave game</button>
        </div>
        <div id="gameActions">
            <div id="actionButtons">
                <button class="actionButton">Fold</button>
                <button class="actionButton">Call</button>
                <button class="actionButton">All In</button>
                <button class="actionButton">Raise</button>
            </div>
            <br>
            <div id="rangeSlider">
                <input id="raiseSlider" type="range" min="0" max="100" value="0" event="updateTextInput(this.value);">
                <input id="raiseInput" type="text" value="0" event="updateSlider(this.value);">
            </div>
        </div>
        <div id="chatroom">
            <div class="messages"></div>
            <input type="text" name="typeMessge">
        </div>
    </div>


    @section scripts{
        <script src="http://ajax.aspnetcdn.com/ajax/signalr/jquery.signalr-2.1.0.min.js"></script>
        <script src="~/signalr/hubs"></script>
        <script>
            var chat = $.connection.myHub;

            chat.client.alertMessage = function (msg) {
                alert(msg);
            }

            chat.client.alertJson = function (model) {
                alert(JSON.stringify(model))
            };
            $.connection.hub.start().done(initConnect).fail(function (reason) {
                console.log("SignalR connection failed: " + reason);
            });
            function initConnect() {
                alert("connection established")
                $('#message-btn').prop("disabled", false).click(function () {
                    chat.server.send($("#message").val());
                });
            }
        </script>
    }
